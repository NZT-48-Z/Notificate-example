# Notificate Microservice

ะกะพะฒัะตะผะตะฝะฝัะน ะผะธะบัะพัะตัะฒะธั ะดะปั ัะฒะตะดะพะผะปะตะฝะธะน ะพ ะทะฐะบะฐะทะฐั ั ะฒะตะฑ-ะธะฝัะตััะตะนัะพะผ ะธ Telegram-ะฑะพัะพะผ.

## ๐ ะัััััะน ััะฐัั

### ะะฐะฟััะบ ัะตัะตะท Docker

1. ะกะพะทะดะฐะนัะต ัะฐะนะป `.env` ะฒ ะบะพัะฝะต ะฟัะพะตะบัะฐ:
```env
RABBIT_URL=amqp://guest:guest@localhost/
BOT_TOKEN=ะะะจ_ะขะะะะ_ะะะขะ
ADMIN_CHAT_ID=ะะะจ_CHAT_ID
```

2. ะะฐะฟัััะธัะต ะฒัะต ัะตัะฒะธัั:
```bash
docker-compose up --build
```

3. ะัะบัะพะนัะต ะฒะตะฑ-ะธะฝัะตััะตะนั: http://localhost:8000

### ะะฐะฟััะบ ะปะพะบะฐะปัะฝะพ

1. ะฃััะฐะฝะพะฒะธัะต ะทะฐะฒะธัะธะผะพััะธ:
```bash
pip install -r requirements.txt
```

2. ะะฐะฟัััะธัะต FastAPI:
```bash
uvicorn app.main:app --reload
```

3. ะะฐะฟัััะธัะต ะฒะพัะบะตั (ะฑะพัะฐ):
```bash
python bot_worker/main.py
```

## ๐ ะคัะฝะบัะธะพะฝะฐะปัะฝะพััั

### Telegram-ะฑะพั
- ะะพะผะฐะฝะดะฐ `/start` - ะฟัะธะฒะตัััะฒะธะต
- ะะพะผะฐะฝะดะฐ `/id` - ะฟะพะปััะตะฝะธะต chat_id
- ะฃะฒะตะดะพะผะปะตะฝะธั ะพ ะทะฐะบะฐะทะฐั

### API
- `GET /` - ะฒะตะฑ-ะธะฝัะตััะตะนั
- `GET /health` - ะฟัะพะฒะตัะบะฐ ะทะดะพัะพะฒัั ัะตัะฒะธัะฐ
- `POST /order?name=...` - ัะพะทะดะฐะฝะธะต ะทะฐะบะฐะทะฐ

## ๐ณ Docker

- **API**: ะฟะพัั 8000
- **RabbitMQ**: ะฟะพัั 5672 (AMQP), 15672 (ะฒะตะฑ-ะธะฝัะตััะตะนั)
- **ะะพั**: ัะฐะฑะพัะฐะตั ะฒ ัะพะฝะต

## ๐ ะกัััะบัััะฐ ะฟัะพะตะบัะฐ

```
notificate/
โโโ .git/
โโโ .pytest_cache/
โโโ .mypy_cache/
โโโ .venv/
โโโ src/
โ   โโโ app/
โ   โ   โโโ __init__.py
โ   โ   โโโ main.py
โ   โ   โโโ config.py
โ   โ   โโโ static/
โ   โ   โ   โโโ index.html
โ   โ   โโโ api/
โ   โ   โ   โโโ __init__.py
โ   โ   โ   โโโ order.py
โ   โ   โโโ __pycache__/
โ   โโโ broker/
โ   โ   โโโ __init__.py
โ   โ   โโโ rabbit.py
โ   โ   โโโ __pycache__/
โ   โโโ bot_worker/
โ       โโโ __init__.py
โ       โโโ main.py
โ       โโโ config.py
โ       โโโ Dockerfile
โ       โโโ __pycache__/
โโโ pyproject.toml
โโโ uv.lock
โโโ Dockerfile
โโโ Dockerfile.bot
โโโ docker-compose.yaml
โโโ .gitignore
โโโ .python-version
โโโ README.md
```

## ๐ง ะะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั

- `RABBIT_URL` โ ัััะพะบะฐ ะฟะพะดะบะปััะตะฝะธั ะบ RabbitMQ
- `BOT_TOKEN` โ ัะพะบะตะฝ Telegram-ะฑะพัะฐ
- `ADMIN_CHAT_ID` โ chat_id ะฐะดะผะธะฝะธัััะฐัะพัะฐ

## ๐ ะะพะฝะธัะพัะธะฝะณ

- Healthcheck: `GET /health`
- RabbitMQ Management: http://localhost:15672 (guest/guest)
- API ะดะพะบัะผะตะฝัะฐัะธั: http://localhost:8000/docs 
